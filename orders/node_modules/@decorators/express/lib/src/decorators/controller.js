"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Controller = void 0;
const di_1 = require("@decorators/di");
const meta_1 = require("../meta");
function Controller(url, middlewareOrRouterOptions, middleware = []) {
    return (target) => {
        const meta = (0, meta_1.getMeta)(target.prototype);
        meta.url = url;
        meta.middleware = Array.isArray(middlewareOrRouterOptions) ? middlewareOrRouterOptions : middleware;
        meta.routerOptions = Array.isArray(middlewareOrRouterOptions) ? null : middlewareOrRouterOptions;
        (0, di_1.Injectable)()(target);
    };
}
exports.Controller = Controller;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kZWNvcmF0b3JzL2NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQTRDO0FBRzVDLGtDQUE2RDtBQVE3RCxTQUFnQixVQUFVLENBQUMsR0FBVyxFQUFFLHlCQUF3RCxFQUFFLGFBQTJCLEVBQUU7SUFDN0gsT0FBTyxDQUFDLE1BQVksRUFBRSxFQUFFO1FBQ3RCLE1BQU0sSUFBSSxHQUFnQixJQUFBLGNBQU8sRUFBQyxNQUFNLENBQUMsU0FBeUIsQ0FBQyxDQUFDO1FBRXBFLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7UUFDcEcsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMseUJBQXlCLENBQUM7UUFFakcsSUFBQSxlQUFVLEdBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QixDQUFDLENBQUM7QUFDSixDQUFDO0FBVkQsZ0NBVUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXJPcHRpb25zIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGRlY29yYXRvcnMvZGknO1xuXG5pbXBvcnQgeyBUeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRXhwcmVzc0NsYXNzLCBFeHByZXNzTWV0YSwgZ2V0TWV0YSB9IGZyb20gJy4uL21ldGEnO1xuaW1wb3J0IHsgTWlkZGxld2FyZSB9IGZyb20gJy4uL21pZGRsZXdhcmUnO1xuXG4vKipcbiAqIFJlZ2lzdGVycyBjb250cm9sbGVyIGZvciBiYXNlIHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29udHJvbGxlcih1cmw6IHN0cmluZywgbWlkZGxld2FyZT86IE1pZGRsZXdhcmVbXSk6IENsYXNzRGVjb3JhdG9yO1xuZXhwb3J0IGZ1bmN0aW9uIENvbnRyb2xsZXIodXJsOiBzdHJpbmcsIHJvdXRlck9wdGlvbnM/OiBSb3V0ZXJPcHRpb25zLCBtaWRkbGV3YXJlPzogTWlkZGxld2FyZVtdKTogQ2xhc3NEZWNvcmF0b3I7XG5leHBvcnQgZnVuY3Rpb24gQ29udHJvbGxlcih1cmw6IHN0cmluZywgbWlkZGxld2FyZU9yUm91dGVyT3B0aW9ucz86IE1pZGRsZXdhcmVbXSB8IFJvdXRlck9wdGlvbnMsIG1pZGRsZXdhcmU6IE1pZGRsZXdhcmVbXSA9IFtdKSB7XG4gIHJldHVybiAodGFyZ2V0OiBUeXBlKSA9PiB7XG4gICAgY29uc3QgbWV0YTogRXhwcmVzc01ldGEgPSBnZXRNZXRhKHRhcmdldC5wcm90b3R5cGUgYXMgRXhwcmVzc0NsYXNzKTtcblxuICAgIG1ldGEudXJsID0gdXJsO1xuICAgIG1ldGEubWlkZGxld2FyZSA9IEFycmF5LmlzQXJyYXkobWlkZGxld2FyZU9yUm91dGVyT3B0aW9ucykgPyBtaWRkbGV3YXJlT3JSb3V0ZXJPcHRpb25zIDogbWlkZGxld2FyZTtcbiAgICBtZXRhLnJvdXRlck9wdGlvbnMgPSBBcnJheS5pc0FycmF5KG1pZGRsZXdhcmVPclJvdXRlck9wdGlvbnMpID8gbnVsbCA6IG1pZGRsZXdhcmVPclJvdXRlck9wdGlvbnM7XG5cbiAgICBJbmplY3RhYmxlKCkodGFyZ2V0KTtcbiAgfTtcbn1cbiJdfQ==